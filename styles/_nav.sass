@import vars
@import mixins

nav.navbar
	height: $nav-h
	padding: 0 1em
	+blur-background(10px, $menu-bg, 0.15, 0.5)
	box-shadow: 0 2px 8px -4px grey
	+media-breakpoint-down(sm)
		height: $nav-h-sm

	.navbar-brand
		display: flex
		height: 100%
		padding-top: 0.75rem
		padding-bottom: 0.75rem
		img
			width: auto
			height: 100%
			align-self: center
	.navbar-collapse
		position: relative
		width: 100%
		transition: 200ms all ease-in
		overflow: hidden
		z-index: 1
		.btn-close
			display: none
		+media-breakpoint-down(lg)
			position: absolute
			top: 0
			height: 100vh !important
			margin: 0 -1em
			background-color: $overlay-bg-color
			opacity: 1
			z-index: 3
			&:not(.show)
				opacity: 0
			.navbar-nav
				position: fixed
				display: flex
				align-items: center
				justify-content: center
				width: 300px
				height: 100vh
				right: 0
				top: 0
				padding-top: 12vh
				text-align: center
				+blur-background(20px, $menu-bg, 0.05, 0.2)
				border-left: solid 1px $brand-color
				text-shadow: 1px 1px 2px $menu-bg
				transition: 200ms all ease-out
				transform: translateX(100%)
				.nav-link
					padding: .3rem 1rem
					margin: 0 0 3vh
					font-size: calc(1rem + 0.5vh)
					text-decoration: none
					background-color: transparent
					border-radius: 1px
					border: 1px solid transparent
					transition: all 200ms ease-out
					&:hover
						//background-color: $menu-bg
						border-color: transparentize($brand-color,0.5)

				.socials
					margin-top: auto
					margin-bottom: 1.5em
				.social-icon
					margin: 0 0.25rem
					width: 30px
					height: 30px
					padding: 5px
					border: 2px $brand-color solid
					border-radius: 50%
				@media (max-width: 375px)
					width: 100%
					border-left: none

			.btn-close
				display: block
				position: absolute
				top: 1.5em
				right: 1.5em
				&:hover
					opacity: 1

		&.show
			.navbar-nav
				transform: translateX(0%)


	.nav-link
		+media-breakpoint-down(lg)
			color: $brand-color !important
			text-transform: uppercase
		&:hover
			text-decoration: underline
		svg
			margin-right: 7px

	.navbar-toggler
		position: relative
		width: 35px
		height: 40px
		padding: 0
		margin-left: 5px
		border-color: transparent
		opacity: 1
		+media-breakpoint-down(lg)
			order: 0
		.navbar-toggler-icon
			width: 100%
			height: 2px
			flex: 1
			margin-right: 2px
			background: $brand-color

		&::before, &::after
			content: ''
			position: absolute
			left: 25%
			height: 2px
			right: 2px
			background: $brand-color
			border-radius: 2px
			transition: 150ms all ease-in-out

		&::before
			top: 6px
		&::after
			bottom: 6px

		&:hover
			background-color: transparent
			color: #000
			&::before, &::after
				left: 0
		&:focus
			box-shadow: 0 0 0 0.25rem rgba(211, 212, 213, 0.5)


	.nav-search-block
		order: 2
		z-index: 3
		+media-breakpoint-down(lg)
			order: 0
			margin-right: 0

	.search-form
		.form-control
			position: absolute
			right: 4em
			margin-left: auto
			width: calc(100% - 185px)
			transition: 300ms width ease-in-out, 300ms right ease-in-out, 300ms background-color ease-in-out, 00ms 300ms border ease-in-out
			pointer-events: auto
			z-index: 2
			+media-breakpoint-down(lg)
				right: 6em
				width: calc(100% - 220px)
			+media-breakpoint-down(sm)
				width: calc(100% - 175px)
			&.hidden
				width: 0
				right: 3.4em
				background-color: transparent
				border: 0
				pointer-events: none
				outline: none

		button
			position: relative
			background-color: transparent
			border: none

	.contacts
		order: 2
		margin-right: 7px
		+media-breakpoint-down(sm)
			.social-link
				display: none
			.phone-text
				font-size: 0.8rem

		.social-icon
			margin-right: 0.5em

		+media-breakpoint-down(lg)
			order: 0
			margin-left: auto


